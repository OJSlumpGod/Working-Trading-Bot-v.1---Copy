<!-- templates/positions.html -->
{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
  <h2 class="text-center mb-4">Open Positions</h2>

  {% if positions %}
    <div class="table-responsive">
      <table class="table table-dark table-striped">
        <thead>
          <tr>
            <th>Instrument</th>
            <th>Side</th>
            <th>Units</th>
            <th>Entry Price</th>
            <th>Current Price</th>
            <th>Profit/Loss</th>
          </tr>
        </thead>
        <tbody id="openPositionsTable">
          {% for pos in positions %}
          <tr>
            <td>{{ pos.instrument }}</td>
            <td>{{ pos.side.upper() }}</td>
            <td>{{ pos.units }}</td>
            <td>{{ pos.entryPrice }}</td>
            <td>{{ pos.currentPrice }}</td>
            <td>
              {% if pos.profitLoss >= 0 %}
                <span class="text-success">{{ pos.profitLoss }}</span>
              {% else %}
                <span class="text-danger">{{ pos.profitLoss }}</span>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <div class="table-responsive">
      <table class="table table-dark table-striped">
        <thead>
          <tr>
            <th>Instrument</th>
            <th>Side</th>
            <th>Units</th>
            <th>Entry Price</th>
            <th>Current Price</th>
            <th>Profit/Loss</th>
          </tr>
        </thead>
        <tbody id="openPositionsTable">
          <tr>
            <td colspan="6" class="text-center">No open positions available</td>
          </tr>
        </tbody>
      </table>
    </div>
  {% endif %}
</div>
{% endblock %}
